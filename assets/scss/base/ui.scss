/*------------------------------------*\
  #TUMBLER
\*------------------------------------*/
@use 'sass:math' as *;

.ui-tumbler {
	display: inline-flex;
	vertical-align: middle;
	align-items: center;
	flex-flow: row wrap;
	line-height: 0;
	text-align: left;

	&_trigger {
		position: absolute;
		overflow: hidden;
		clip: rect(1px, 1px, 1px, 1px);
		padding: 0;
		border: 0;
		height: 1px;
		width: 1px;
		opacity: 0;
	}

	&_trigger:not([disabled]) + &:hover {
		cursor: pointer;
	}

	&__name {
		margin-right: 10px;
	}

	&__box {
		font-size: 0;
		transition: color .5s cubic-bezier(.05, .69, .14, 1) 0s;
		width: 30px;
		box-sizing: border-box;
		border-radius: 9px;
		position: relative;
		color: $gray-9;
		background-color: currentcolor;
		padding: 1px;
		&.disabled{
			opacity: 0.6;
		}
	}
	&_trigger:checked + & &__box {
		color: $brand_color;
	}

	&__dot {
		width: 14px;
		height: 0;
		padding-top: 14px;
		border-radius: 50%;
		background-color: $white;
		transition:	transform .5s cubic-bezier(.05, .69, .14, 1) 0s,
					box-shadow .5s cubic-bezier(.05, .69, .14, 1) 0s;
		overflow: hidden;
		display: inline-block;
		vertical-align: middle;
		border: 1px solid currentcolor;
		transform-origin: 50% 50%;
		will-change: transform;
	}
	/* checked state */
	&_trigger:checked + & &__dot {
		transform: translateX(12px);
	}
	/* not disabled with hover */
	&_trigger:not([disabled]) + &:hover &__dot {
		transform: scale(1.2);
	}
	/* not checked with hover */
	&_trigger:checked + &:hover &__dot {
		transform: translateX(12px) scale(1.2);
	}
	/* focused */
	&_trigger:focus-visible + & &__dot {
		box-shadow: inset 0 0 0 3px #fff,
					inset 0 0 0 8px #004465,
					1px 1px 2px 0px $black;
	}
	/* disabled */
	&_trigger[disabled] + & &__dot {
		background-color: #ececee;
	}
	&_trigger:checked + & &__if_off,
	&_trigger:not(:checked) + & &__if_on {
		display: none;
	}
}

/*------------------------------------*\
  #BUTTON
\*------------------------------------*/

/* button reset */
.ui-button {
	-moz-appearance: none;
	-webkit-appearance: none;
	appearance: none;
	background-color: transparent;
	border: 0;
	padding: 0;
	margin: 0;
	border-radius: 0;
	position: relative;
	cursor: pointer;
	text-decoration: none;
	/**
	 * standart button styles.
	 * color, bg color, paddings and hover animations
	 */
	&--standart {
		display: inline-flex;
		justify-content: center;
		align-items: center;
		width: auto;
		height: 3.5rem;
		max-width: 100%;
		border-radius: 3px;
		background-color: $brand_color;
		padding-left: 1rem;
		padding-right: 1rem;
		margin-bottom: 1rem;
		color: $white;
		text-align: center;
		cursor: pointer;
		transition: background-color .5s cubic-bezier(.05, .69, .14, 1) 0s,
					transform .5s cubic-bezier(.05, .69, .14, 1) 0s;
		will-change: opacity, transform;
		flex-shrink: 0;
		box-sizing: border-box;
		&:not(:disabled):not([data-disabled]) {
			box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.25);
			&:hover,
			&:focus {
				background-color: $brand_color_hover;
			}
			&:active {
				transform: translateY(2px);
			}
		}
	}
	&--smallest_vw_rgap {
		margin-right: 1rem;
		@include media('mobile_middle') {
			margin-right: 0;
		}
	}
	&--rgap {
		margin-right: 1rem;
	}

	&--small {
		height: 2.5rem;
		font: 1.4rem/1 a;
		font-family: inherit;
		padding-bottom: 2px;
	}
	&--wide {
		font-size: 1.4rem;
		padding-left: 2rem;
		padding-right: 2rem;
	}
	&--light {
		background-color: $gray-e;
    color: $brand_color;
    &:focus,
    &:hover {
      color: $white;
    }
	}
	&--transparent {
		background-color: transparent;
		color: $brand_color;
		border: 2px solid currentColor;
		&:focus,
		&:hover {
			color: $white;
			border-color: $brand_color_hover;
		}
	}
	/**
	* disabled state
	*/
	&:disabled,
	&[data-disabled] {
		background-color: $gray-c;
		cursor: auto;
	}

	/*------------------------------------*\
		#SEARCH BUTTON
	\*------------------------------------*/
	&--search {
		color: $gray-6;
		opacity: .66;
		font-size: $desktop_icon_size;
		width: 3.5rem;
		height: 3.5rem;
		margin-left: .5rem;
		margin-bottom: 1rem;
		transition: opacity .2s ease-in-out 0s,
					color .2s ease-in-out 0s;
		transform-origin: 50%;
		.ui-input--search:focus + & {
			color: $brand_color;
			opacity: 1;
		}
		&:hover,
		&:focus {
			// color: $gray-6;
			opacity: 1;
		}
		&:disabled {
			background-color: transparent;
			opacity: .33;
			// color: $gray-c;
		}
	}
}


/*------------------------------------*\
  #FIELD PACK
\*------------------------------------*/
.ui-field_pack {
	display: flex;
	margin-bottom: 2rem;
	flex-wrap: wrap;
	@include media('mobile_middle') {
		flex-wrap: nowrap;
		& > :not(:last-child):not(:last-child):not(:last-child) {
			margin-right: 1px;
		}
		& > :not(.ui-field):first-child,
		& > .ui-field:first-child :not(.ui-label) {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
		& > :not(.ui-field):last-child,
		& > .ui-field:last-child :not(.ui-label) {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
		& > :not(.ui-field):not(:first-child):not(:last-child),
		& > .ui-field:not(:first-child):not(:last-child) :not(.ui-label) {
			border-radius: 0;
		}
	}
	&--solid {
		flex-wrap: nowrap;
		& > :not(:last-child) {
			margin-right: 1px;
		}
		& > :not(.ui-field):first-child,
		& > .ui-field:first-child :not(.ui-label) {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
		& > :not(.ui-field):last-child,
		& > .ui-field:last-child :not(.ui-label) {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
		& > :not(.ui-field):not(:first-child):not(:last-child),
		& > .ui-field:not(:first-child):not(:last-child) :not(.ui-label) {
			border-radius: 0;
		}
	}
	& .ui-field {
		width: 100%;
	}
	& .ui-field {
		margin-bottom: 2rem;
		@include media('mobile_middle') {
			margin-bottom: 0;
		}
	}
	& + .ui-legend {
		margin-top: -2rem;
	}
	&--center {
		justify-content: center;
	}
	&--right {
		justify-content: flex-end;
	}
}
/*------------------------------------*\
  # align items to bottom in flex container
\*------------------------------------*/
.ui-ai_end {
	align-items: flex-end;
}

/*------------------------------------*\
	#INPUT & TEXTAREA
\*------------------------------------*/
.ui-input {
	display: block;
	width: 100%;
	height: 3.5rem;
	padding: 0 1rem;
	border: 1px solid $gray-c;
	border-radius: 3px;
	box-sizing: border-box;
	font: 1.6rem/3.5rem a;
	font-family: inherit;
	color: $black;
	margin: 0 0 1rem 0;
	flex-shrink: 1;
	&:disabled {
		background-color: rgb(118, 118, 118, .1);
		border-color: $gray-c;
	}
	&:not(:disabled) {
		box-shadow: 0 1px 4px 0px rgba(0, 0, 0, .086);
	}

	/*------------------------------------*\
	  #CALENDAR
	\*------------------------------------*/
	&--calendar {
		appearance: none;
		&::-webkit-calendar-picker-indicator {
			background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 16 16'%3e%3cpath fill='%23004465' d='M13 4v10H3V4h10m.2-2H2.8C1.8 2 1 2.8 1 3.7v10.6c0 .9.8 1.7 1.8 1.7h10.3c1 0 1.8-.8 1.8-1.7V3.7c.1-.9-.7-1.7-1.7-1.7zM4.5 5h1c.3 0 .5-.2.5-.5v-3c0-.3-.2-.5-.5-.5h-1c-.3 0-.5.2-.5.5v3c0 .3.2.5.5.5zm0 4h1c.3 0 .5-.2.5-.5v-1c0-.3-.2-.5-.5-.5h-1c-.3 0-.5.2-.5.5v1c0 .3.2.5.5.5zm3 0h1c.3 0 .5-.2.5-.5v-1c0-.3-.2-.5-.5-.5h-1c-.3 0-.5.2-.5.5v1c0 .3.2.5.5.5zm3 0h1c.3 0 .5-.2.5-.5v-1c0-.3-.2-.5-.5-.5h-1c-.3 0-.5.2-.5.5v1c0 .3.2.5.5.5zm-6 3h1c.3 0 .5-.2.5-.5v-1c0-.3-.2-.5-.5-.5h-1c-.3 0-.5.2-.5.5v1c0 .3.2.5.5.5zm3 0h1c.3 0 .5-.2.5-.5v-1c0-.3-.2-.5-.5-.5h-1c-.3 0-.5.2-.5.5v1c0 .3.2.5.5.5zm3 0h1c.3 0 .5-.2.5-.5v-1c0-.3-.2-.5-.5-.5h-1c-.3 0-.5.2-.5.5v1c0 .3.2.5.5.5zm0-7h1c.3 0 .5-.2.5-.5v-3c0-.3-.2-.5-.5-.5h-1c-.3 0-.5.2-.5.5v3c0 .3.2.5.5.5z'/%3e%3c/svg%3e ");
		}
		&:disabled {
			color: $gray-6;
		}
	}

	/*------------------------------------*\
		#SEARCH INPUT MODIFIER
	\*------------------------------------*/
	.ui-input--search {
		appearance: none;
		&::-webkit-search-cancel-button {
			-webkit-appearance: none;
			width: 12px;
			height: 12px;
			background: url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 11.99 11.99'%3E%3Cpath fill='%23004465' d='M11.99 1.41L10.58 0 6 4.58 1.41 0 0 1.41 4.58 6 0 10.58l1.42 1.41L6 7.41l4.58 4.58 1.41-1.41L7.41 6l4.58-4.59z'/%3E%3C/svg%3E%0A") no-repeat;
		}
		&::-ms-clear {
			-webkit-appearance: none;
			width: 12px;
			height: 12px;
			background: url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 11.99 11.99'%3E%3Cpath fill='%23004465' d='M11.99 1.41L10.58 0 6 4.58 1.41 0 0 1.41 4.58 6 0 10.58l1.42 1.41L6 7.41l4.58 4.58 1.41-1.41L7.41 6l4.58-4.59z'/%3E%3C/svg%3E%0A") no-repeat;
		}
	}
}

/*------------------------------------*\
	#INPUT FIELD
\*------------------------------------*/
.ui-field {
	margin-bottom: 2rem;
	&--error .ui-input {
		border-color: $warning;
	}
	&--error .ui-legend--error {
		display: block;
	}
}

/*------------------------------------*\
	#INPUT LABEL
\*------------------------------------*/
.ui-label {
	font: 1.4rem/1 a;
	font-family: inherit;
	color: $gray-6;
	margin: -.4rem 0 -.3rem + 1.3rem;
	display: block;
	&--required::before {
		content: '*';
		color: $warning;
		white-space: pre;
	}
}

/*------------------------------------*\
	#INPUT FIELD LIST
\*------------------------------------*/
.ui-field_nav {
	&,
	&__list {
		display: flex;
		flex-flow: row wrap;
	}
	/* название списка */
	&__caption {
		font-weight: normal;
	}
	/* item списка */
	&__item:not(:last-child) {
		margin-right: 1rem;
	}
}

/*------------------------------------*\
	#INPUT.TEXTAREA
\*------------------------------------*/
.ui-textarea {
	height: auto;
	margin-bottom: 1rem;
	resize: vertical;
	min-height: 6.4em;
	font-size: 1.6rem;
	line-height: 2.4rem;
}


/*------------------------------------*\
	#INPUT LEGEND
\*------------------------------------*/
.ui-legend {
	color: $gray-6;
	font: 1.2rem/1 a;
	font-family: inherit;
	margin: -.4rem 0 -.2rem;
	.ui-input + & {
		margin-top: -.4rem + .9rem;
	}
	& + & {
		margin-top: -.4rem + 1.4rem;
	}
	&--error {
		display: none;
		color: $warning;
	}
}

/*------------------------------------*\
	#CHECKBOXES & RADIO BUTTONS
\*------------------------------------*/
.ui-radio,
.ui-checkbox {
	width: 15px;
	height: 15px;
	margin: 0;
	vertical-align: middle;
}
.ui-radio:disabled,
.ui-chekbox:disabled {
	background-color: rgb(118, 118, 118, .3);
}

/*------------------------------------*\
	ui список для чекбоксов или для radio кнопок
\*------------------------------------*/
.ui-list .ui-radio,
.ui-list .ui-checkbox {
	margin: 0 .5rem;
}
/*------------------------------------*\
	ui текст для чекбоксов или для radio кнопок
\*------------------------------------*/
.ui-text {
	vertical-align: middle;
}

.ui-select {
	color: $black;
	-webkit-appearance: none;
	-moz-appearance: none;
	appearance: none;
	box-sizing: border-box;
	padding-right: 25px;
	max-width: 100%;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;

	&::placeholder,
	&:required:invalid,
	&:required option:not([hidden]) {
		color: $gray-6;
	}
	&::-ms-expand {
		display: none;
	}
	& {
		background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3E%3Cpath fill='%23004465' d='M29.66 9.26c.6.85.39 2.02-.46 2.6l-13.48 9.38c-.66.46-1.53.45-2.18-.02L.77 11.84a1.87 1.87 0 112.22-3.02l12 8.58 12.06-8.61a1.88 1.88 0 012.61.47z'/%3E%3C/svg%3E");
		background-position: right 5px top 50%;
		background-repeat: no-repeat;
		background-size: 12px;
	}
}

/* ui icon text */
.ui-icon {
	display: inline-flex;
	flex-flow: row nowrap;
	align-items: center;
	font: 1.4rem/1 a;
	font-family: inherit;
	& > .icon_text {
		margin-top: -.5rem;
		margin-bottom: -.2rem;
	}
}
.icon_text {
	color: $brand_color;
	&:not(:last-child) {
		margin-right: 10px;
	}
	&:last-child {
		margin-left: 10px;
	}
}
.ui-collapse {
	overflow: hidden;
	visibility: visible;
	opacity: 1;
	position: relative; /* We need this to prevent browsers not collapsing blocks properly. */
  will-change: max-height;
}
.ui-collapse.ui-collapse--hide {
	visibility: hidden;
	opacity: 0;
	max-height: 0;
}
.ui-collapse.ui-collapse--animated {
	transition: max-height .4s cubic-bezier(.05, .69, .14, 1) 0s,
				opacity 1s cubic-bezier(.05, .69, .14, 1) 0s,
				visibility 0s cubic-bezier(.05, .69, .14, 1) 0s;
}
.ui-collapse.ui-collapse--hide.ui-collapse--animated {
	transition-duration: .4s, .4s, 0s;
	transition-delay: 0s, 0s, .4s;
	transition-timing-function: cubic-bezier(.05, .69, .14, 1);
}

.ui-rotate {
	display: inline-block;
	transition: transform .5s cubic-bezier(.05, .69, .14, 1) 0s;
	will-change: transform;
}
.ui-rotate_180 {
	transform: rotate(-180deg);
}
.ui-rotate_45 {
	transform: rotate(-45deg);
}
.ui-state--focused {
	box-shadow: 0 0 0 2px #000;
	border-radius: 2px;
}

.ui-loader {
	width: 1em;
	height: 1em;
	color: $gray-6;
	--wing_shade: #{div(100, 9) * 6 * 0.01};
	display: inline-block;
	vertical-align: middle;
	position: relative;
	will-change: transform;
	animation: rotation 1s linear infinite;
	&::before,
	&::after {
		content: '';
		position: absolute;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;
		border-radius: 50%;
	}
	&::before {
		border-top: .0833em solid currentcolor;
		border-right: .0833em solid transparent;
	}
	&::after {
		border-bottom: .0833em solid currentcolor;
		border-left: .0833em solid transparent;
		opacity: 1;
		opacity: var(--wing_shade);
	}
	&--white {
		color: $white;
		--wing_shade: #{div(100, 16) * 13 * 0.01};
	}
}
@keyframes rotation {
	0% {
		transform: rotate(0deg);
	}
	100% {
		transform: rotate(360deg);
	}
}

.ui-flex {
	display: flex;
	flex-wrap: wrap;
	align-items: flex-start;
}

// captcha
.ui-captcha {
	@include media('desktop') {
		margin: 12px 0;
	}

	&-reload {
		align-self: center;
		margin-left: 5px;
		font-size: $desktop_icon_size;
		color: $brand_color;
	}
}
.ui-popup-captcha {
	@include media('desktop_half') {
		margin: 12px 0;
	}
}
